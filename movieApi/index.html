<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movie Search</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">

    <!-- Login Section -->
    <div id="loginSection">
      <h2>Login</h2>
      <form id="loginForm" onsubmit="return login(event)">
        <input type="text" id="username" placeholder="Enter Username" required><br><br>
        <input type="password" id="password" placeholder="Enter Password" required><br><br>
        <button type="submit">Login</button>
      </form>
    </div>

    <!-- Movie Search Section -->
    <div id="searchSection" style="display: none;">
      <h2>Movie Search</h2>
      <form id="searchForm" onsubmit="return searchMovies(event)">
        <input type="text" id="searchInput" placeholder="Enter movie name" required>
        <button type="submit">Search</button>
      </form>
      <div id="movieList"></div>
    </div>

  </div>

  <script>
    const apikey = "826d4f48"; // Your real OMDB API key

  function login(event) {
    event.preventDefault();
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();

    if (username && password) {
      document.getElementById("loginSection").style.display = "none";
      document.getElementById("searchSection").style.display = "block";
    } else {
      alert("Please enter both username and password!");
    }
  }

  async function searchMovies(event) {
    event.preventDefault();
    const query = document.getElementById("searchInput").value.trim();
    const list = document.getElementById("movieList");
    list.innerHTML = "";

    if (!query) {
      list.innerHTML = "<p>Please enter a movie name.</p>";
      return;
    }

    const url = `https://www.omdbapi.com/?apikey=${apikey}&s=${encodeURIComponent(query)}`;

    try {
      const response = await fetch(url);
      const data = await response.json();

      if (data.Response === "True") {
        data.Search.forEach(movie => {
          const card = document.createElement("div");
          card.innerHTML = `
            <img src="${movie.Poster !== "N/A" ? movie.Poster : "https://via.placeholder.com/80"}" 
                 alt="${movie.Title}">
            <p><b>${movie.Title}</b> (${movie.Year})</p>
          `;
          list.appendChild(card);
        });
      } else {
        list.innerHTML = `<p>No results found for "${query}"</p>`;
      }

    } catch (error) {
      console.error("Error fetching movies:", error);
      list.innerHTML = "<p>Something went wrong. Try again later.</p>";
    }
  }
  </script>
</body>
</html>
